# 版本控制

**版本控制** 是一种记录一个或若干个文件内容变化，以便将来查阅特定版本修订情况的系统。我们可以对任何类型的文件进行版本控制，尤其是源代码文件。

## 功能

* 将某个文件回溯到之前的状态，甚至将整个项目回退到过去某个时间的的状态
* 比较文件的变化细节，查出最后是谁修改了哪个地方，从而找出导致怪异问题出现的原因，又是谁在何时报告了某个功能缺陷

## VCS 出现以前

* 通过目录拷贝区别不同版本
* 公共文件容易覆盖
* 成员沟通成本很高，代码基础效率低下

许多人习惯用复制整个项目目录的方式来保存不同的版本，或许还会改名加上备份时间以示区别。 这么做唯一的好处就是简单，但是特别容易犯错。 有时候会混淆所在的工作目录，一不小心会写错文件或者覆盖意想外的文件。

## 本地版本控制系统

大多都是采用某种简单的数据库来记录文件的历次更新差异。

最流行的一种叫做 RCS

## 集中式 VCS

如何让在不同系统上的开发者协同工作？

集中化的版本控制系统（Centralized Version Control Systems，简称 CVCS）

都有一个单一的集中管理的服务器，保存所有文件的修订版本，而协同工作的人们都通过客户端连到这台服务器，取出最新的文件或者提交更新。

* 有集中的版本管理服务器
* 具备文件版本管理和分支管理功能
* 集成效率有明显地提升
* 客户端必须时刻和服务器相连
* 代表：CVS、SVN

* 每个人都可以在一定程度上看到项目中的其他人正在做些什么

缺点是中央服务器的单点故障，导致无法提交更新，也就无法协同工作。

## 分布式 VCS

* 服务端和客户端都有完整的版本库
* 脱离服务端，客户端照样可以管理版本
* 查看历史和版本比较等多数操作，都不需要访问服务器，比集中式 VCS 更能提高版本管理效率
* 代表：Git、Bitkeeper、Mercurial