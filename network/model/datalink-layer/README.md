# 数据链路层（Data-Link Layer） / MAC 层

数据链路层主要解决媒体接入控制的问题。

## 集线器（Hub）

* 与交换机不同，集线器没有大脑，完全工作在物理层
* 集线器收到的每一个字节都会广播到其他端口上去

集线器采用 `广播` 的模式，所以需要解决以下几个问题（也是数据链路层要解决的问题）：

1. 包发给谁？谁应该接受？
2. 大家都在发，如何防止混乱？有没有谁先发、谁后发的规则？
3. 发送出现错误该怎么办？

## MAC

MAC 的全称是 `Medium Access Control`，即媒体访问控制。控制在往媒体上发数据的时候，谁先发、谁后发的问题。该规则称为 **多路访问**。

多路访问的常见方式（以车管所管束马路上的车为例）：

* `信道划分` - 分多个车道；每个车一个车道，你走你的，我走我的
* `轮流协议` - 今天单行出行、明天双号出行，轮着来
* `随机接入协议` - 不管三七二十一，有事先出门，发现特堵，就回去（以太网就是这种方式）

## MAC 帧（Frame）格式

![MAC 帧格式](.images/mac-frame-format.png)