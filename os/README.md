# 操作系统（Operating System）

## 定义

术语 “操作系统” 存在两层含义：

* 狭义：管理计算机资源（CPU、RAM 等）的核心层软件 —— 内核
* 广义：内核以及附带的所有标准软件工具（诸如 Shell、GUI、文本编辑器等）

## 分类

* 什么是操作系统，什么是系统？

按工作方式分类：

* 批处理操作系统
* 分时操作系统（Time-sharing Operating System）
* 实时操作系统（Real-time Operating System）
* 网络操作系统
* 分布式操作系统

按架构分类：

| 类别          | 描述 | 代表              |
| ------------- | ---- | ----------------- |
| 单内核/宏内核 |      | Linux             |
| 微内核        |      | HarmonyOS（鸿蒙） |

按运行环境分类：

* 桌面操作系统（Desktop Operating System）
* 移动操作系统
  * IOS
  * Android
* 嵌入式操作系统（Embedded Operating System）

按指令长度分类：

* 8bit/16bit/32bit/64bit 操作系统

## 功能

准 PC 的操作系统：

* 进程管理（Processing Management）
* 进程调度
* 内存管理（Memory Management）
* 文件系统（File System）
* 网络通信（Networking）
* 安全机制（Security）
* 用户界面（User Interface）
* 驱动程序（Device Drivers）

## 实现策略

在操作系统实现方面，由以下几种范型：

| 范型          | 描述                                                                                                                                                                                                                              | 优势                               | 劣势                                        | 代表                                      |
| ------------- | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ---------------------------------- | ------------------------------------------- | ----------------------------------------- |
| 微内核        | 最基本的功能由微内核实现，运行在内核态，其他系统服务（如文件系统、内存管理）均以独立进程运行在微内核之外的用户态，通过明确定义的通信接口与微内核通信                                                                              | 动态可扩展、可在运行时切换系统组件 | 系统组件之间支持复杂通信需要额外的 CPU 时间 | Windows NT 内核、macOS、HarmonyOS（鸿蒙） |
| 单内核/宏内核 | 所有核心的系统服务（如文件系统、设备驱动程序）均打包成一个文件，以单个静态二进制文件的形式存放在磁盘上（Linux：`/boot/vmlinuz*`），并作为一个独立的大进程运行在内核态，所有内核服务使用一个统一的大内核空间，彼此之间直接调用函数 | 性能强                             | 复杂性高                                    | Linux                                     |

需要注意的是，Windows NT 内核和 macOS 并未真正让微内核之外的系统服务运行在用户空间，这违背了微内核设计的初衷。

此外，Linux 引入了 “模块” 特性（支持热插拔和动态装载），可以在系统运行过程中将模块插入到内核代码中，或者将其移除，从而使得内核可以动态添加功能，弥补了宏内核的一些缺陷。


## 参考

* [Operating Systems Notes](https://applied-programming.github.io/Operating-Systems-Notes/)