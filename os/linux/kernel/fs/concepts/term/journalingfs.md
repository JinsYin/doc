# 日志文件系统

_日志文件系统_（Journaling file system） 是一种特殊的文件系统，通过在称为 “日志（journal）”（通常是一个循环日志 “circular log”） 的数据结构中记录文件更改的意图来跟踪尚未提交到文件系统主要部分的更改。当系统奔溃和或电源故障时，日志文件系统可以更快地恢复到联机状态，同时降低文件损坏的可能性。

根据实际的实现情况，日志文件系统可能只跟踪存储的元数据，目的是提高性能，但代价是增加了数据损坏的可能性。

日志文件系统可以避免对整个文件系统进行耗时的一致性检查（fsck）。

## 原理

## 日志级别（Journaling levels）

日志文件系统中，可以选择三种级别的日志：

| 级别              | 描述                           |
| ----------------- | ------------------------------ |
| 回写（writeback） | 在回写模式中，只有文件元数据被 |
| 顺序（ordered）   |                                |
| 数据（data）      |                                |