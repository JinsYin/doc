# 堆（Heap）

进程可以通过增加堆的大小来分配内存，所谓堆指的是一段长度可变的连续虚拟内存。堆的当前内存边界称为 “program break”。

## 系统调用

改变堆的大小（即分配或释放内存），如同让内核改变进程的 “program break” 位置。

在 “program break” 的位置抬升后，程序可以访问新分配区域内的任何内存地址，而此时物理内存页尚未分配。内核会在进程首次试图访问这些虚拟内存地址时自动分配新的物理内存页。

* 调整 program break - `brk()` 和 `sbrk()`
* 在堆上分配内存 - `malloc()` 和 `free()`